server {
    # Listen on port 80 for incoming connections
    listen 80;

    # Set the root directory for your static files.
    # This must match the location where your Dockerfile copies the built files.
    root /usr/share/nginx/html;

    # Specify the default file to serve
    index index.html index.htm;

    # This location block is crucial for Single-Page Applications (SPAs).
    location / {
        # First, try to serve the requested file as a static file (e.g., /main.js).
        # Then, try to serve a directory (e.g., /images/).
        # If neither is found, serve the main index.html file.
        # This ensures that client-side routing (e.g., React Router) works correctly
        # for all routes, even if a direct URL is entered.
        try_files $uri $uri/ /index.html;
    }

    # Additional configuration for caching static assets can be added here
    # to improve performance. For example, for CSS and JavaScript files:
    location ~* \.(js|css)$ {
        expires 1y;
        access_log off;
    }
}